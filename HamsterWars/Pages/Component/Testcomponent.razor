@page "/test"
@using DataAccessLibrary
@inject IHamsterData _db
@inject NavigationManager _nav

<h1>title</h1>
@if (hamsters is null)
{
    <p>loading....</p>
}

<div class="row">
    @foreach (var hamster in hamsters)
    {
        <div class="column">
              <div class="jasd">
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="/Content/Photos/@hamster.ImgName" onerror="this.onerror=null; this.src='/Content/Photos/hamster.jpg.jpg'" alt="" style="width:300px;height:300px;">
                    </div>
                    <div class="flip-card-back">
                        <h1>@hamster.Name</h1>
                        <p>Age:@hamster.Age</p>
                        <p>Favorite Food:@hamster.FavFood</p>
                        <p>Favorite Activity:@hamster.Loves</p>
                        <button type="button" @onclick="(() => RemoveHamster(hamster))" class="btn btn-danger">REMOVE</button>
                    </div>
                </div>
            </div>
        </div>
        </div>
    }
</div>








@code {
    private List<HamsterModel> hamsters = new List<HamsterModel>();
    protected override async Task OnInitializedAsync()
    {
        hamsters = await _db.GetHamsters();
    }

    private async Task RemoveHamster(HamsterModel hamster)
    {
        await _db.RemoveHamster(hamster);

    }

    }

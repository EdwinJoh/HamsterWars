@page "/"
@using DataAccessLibrary
@inject IHamsterData _db
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">


<PageTitle>Index</PageTitle>

<h1>Welcome to HamsterWars</h1>
@if (hamstersList is null)
{
    <p><em>Loading...</em></p>
}
else
{
    <h3>Our Winning Hamster</h3>
    @foreach (var hamster in hamstersList)
    {

        <img class="w-25 " src="/Content/Photos/@hamster.ImgName">
        <div>
            <h4><b>@hamster.Name.ToUpper()</b> <small>Winrate: @hamster.WinRate%</small></h4>
        </div>


        break;

    }
}


@code {

    private List<HamsterModel> hamstersList = new List<HamsterModel>();
    protected override async Task OnInitializedAsync()
    {
        hamstersList = await _db.FindWinner();
        foreach (var item in hamstersList)
        {
            int maxvalue = hamstersList.Max(r => r.WinRate);
            //Services.PercentCalculator.ProcentCalculator(item.Games, item.Wins);// kolla vilken hamster som har höst winrate
        }
    }


}